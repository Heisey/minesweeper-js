// ????????????????????????????????????????????????????????????????
// ?????????????????????? Generate Tiles ??????????????????????????
// ????????????????????????????????????????????????????????????????

import gameLogic from '../'

const generateTiles = (params) => {
  const value = []
  

  // ?? Generate Tile Obj into row/col array
  for (let x = 0; x < params.rows; x++) {
    const tempArr = []
    for (let y = 0; y < params.cols; y++) {
      tempArr.push({
        grid: [x, y],
        bomb: false,
        number: 0,
        flagged: false,
        clicked: false,
        isFound: false,
        exploded: false
      })
    }
    value.push(tempArr)
  }

  

  // ?? Generate random bomb locations on board
  for (let bombs = 0; bombs < params.bombs; bombs++) {
    gameLogic.generateBomb(params, value)
    
  }
  
  // ?? Generate number value for tiles
  for (let x = 0; x < params.rows; x++) {
    for (let y = 0; y < params.cols; y++) {
      if (!value[x][y]['bomb']) {
        value[x][y]['number'] = gameLogic.generateTileValue(value, x, y, params)
      }
      
    }
  }
  
  return value
}

export default generateTiles