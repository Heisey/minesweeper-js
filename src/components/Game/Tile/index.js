
// ????????????????????????????????????????????????????????????????
// ?????????????????????????? Game Tile ???????????????????????????
// ????????????????????????????????????????????????????????????????

// ??????????????????????? Vendor Modules ?????????????????????????
import React from 'react';
import { connect } from 'react-redux'
import styles from './styles'

// ???????????????????????? File Modules ??????????????????????????

// ?? Styles
import './GameTile.scss'

const Tile = (props) => {

  const { 
    info,
    flagTile,
    tileClickEvent,
    board
  } = props

  const {
    gameParams
  } = props

  const handleTileClickEvent = () => {
    tileClickEvent(info.grid, board, gameParams)
  }

  const handleRightClickEvent = e => {
    e.preventDefault()
    flagTile(info.grid)
  }

  return (
    <styles.Base
      clicked={info.clicked}
      exploded={info.exploded}
      onClick={handleTileClickEvent}
      onContextMenu={handleRightClickEvent}
      flagged={info.flagged}
      number={info.number}
    >
      {info.clicked && (<div className="GameTile__info">
        {info.bomb ? <i className="fas fa-bomb"></i> : info.number}
      </div>)}
      
      {(info.flagged && !info.clicked) && (
        <div className="GameTile__flagged">
          <i className="fas fa-flag"></i>
        </div>
      )}
    </styles.Base>
  )
}

const mapStateToProps = state => {
  return {
    gameParams: state.gameLogic.gameParams
  }
}

export default connect(mapStateToProps)(Tile)


    // <div 
    //   className={`GameTile ${info.clicked && 'GameTile__clicked'} ${info.exploded && 'GameTile__boom'}`}
    //   onClick={handleTileClickEvent}
    //   onContextMenu={handleRightClickEvent}
    // >
      // {info.clicked && (<div className="GameTile__info">
      //   {info.bomb ? <i className="fas fa-bomb"></i> : info.number}
      // </div>)}
      
      // {(info.flagged && !info.clicked) && (
      //   <div className="GameTile__flagged">
      //     <i className="fas fa-flag"></i>
      //   </div>
      // )}
    // </div>